## Linux文件基本属性

Linux系统是一种多用户系统，不同的用户具有不同的权限。为了保证系统安全性，Linux对不同用户访问同一文件的权限做了不同规定。

使用ll或ls -l来查看一个文件的属性及其所属的用户和组，如：

	[root@www /]# ls -l
	total 64
	dr-xr-xr-x   2 root root 4096 Dec 14  2012 bin
	dr-xr-xr-x   4 root root 4096 Apr 19  2012 boot

第一列包含10个字符，第一个字符则代表该文件是目录、文件还是链接文件。

- 为[d]则是目录
- 为[-]则是文件
- 为[l]则是链接文档
- 为[b]则是装置文件里可供储存的接口设备
- 为[c]则是装置文件里的串行端口设备，如键盘，鼠标。

剩余的字符中，三个为一组，且均为[rwx]三个组合。r代表可读（read），w代表可写（write），x代表可执行（execute）。其位置不会改变，若不具有该权限，会以[-]代替。

![Linux文件基本属性](https://tinyworker.github.io/images/linux文件权限.png)

因此，每个文件属性均有第一列的10个字符确定。

- 0位确定文件类型
- 1-3位确定属主用户拥有该文件的权限
- 4-6位确定属组用户拥有该文件的权限
- 7-9位确定其他用户拥有该文件的权限


### Linux文件属主与属组

每个文件都有一个特定的所有者，也就是对文件具有所有权的用户。同时，用户按组分类，一个用户可以属于多个组。文件所有者以外的用户分为同组用户和其他用户。

因此，linux按照文件所有者（owner），文件所有者同组用户（group owner）和其他用户（others）规定了不同的文件访问权限。

示例如下：

	[root@www /]# ls -l
	total 64
	drwxr-xr-x 2 root  root  4096 Feb 15 14:46 cron
	drwxr-xr-x 3 mysql mysql 4096 Apr 21  2014 mysql

可见，mysql文件是一个目录，属主和属组都是mysql，属主具有读写执行权限，同组用户和其他用户具有读和执行权限。

通常对于root用户来说，文件权限不起作用。

#### 更改文件属性

**chgrp**，更改文件属组

语法：chgrp [-R] 属组名 文件名

参数：-R，递归更改文件属组，用于目录更改时，加上-R参数会将目录下所有文件的属组都更改。


**chown**，更改文件属主，可以同时更改属组。

语法：chown [-R] 属主名[：属组名] 文件名


**chmod**，更改文件属性
Linux文件属性有两种设置方法，一种是数字，一种是符号。

其中，文件基本权限有9个，分别是owner/group/other对应的read/write/execute权限。

权限分数为：r=4，w=2，x=1

因此，可以累加分数的方式来设定权限

**数字类型语法**：chmod [-R] xyz 文件名

xyz，是数字类型的权限属性，为rwx属性数值的相加，例如chmod 777 filename。


符号类型，按照之前的身份划分，分别为：user，group，others，使用u，g，o来代表三种身份，a代表所有身份。

| 命令  | 身份 | 设定 | 权限 | 文件名 | 
| - | - | - | - | - |
| chmod  | u  | +（加入）| r | xxxxx |
| -  | g  | -（除去）| w | xxxxx |
| -  | o  | =（设定）| x | xxxxx |
| -  | a  | - | - | xxxxx |

**符号类型语法**：chmod u=rwx,g=rx,o=r 文件名 
